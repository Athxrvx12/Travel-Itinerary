{% extends "index.html" %}
{% load static %}

{% block body %}

<style>
    .destination-container {
        max-width: 900px;
        margin: 50px auto;
        padding: 20px;
        background: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
    }
    .destination-img {
        width: 100%;
        height: 400px;
        object-fit: cover;
        border-radius: 10px;
    }

    /* Cultural Section Styles */
    .cultural-card {
        border: none;
        transition: transform 0.3s ease;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        border-radius: 15px;
        overflow: hidden;
    }

    .cultural-card:hover {
        transform: translateY(-5px);
    }

    .cultural-card .card-header {
        border-radius: 15px 15px 0 0;
    }

    .eco-badge {
        background: rgba(76, 175, 80, 0.15);
        color: #4CAF50;
        padding: 8px 20px;
        border-radius: 20px;
        font-size: 0.9rem;
    }
</style>

<section class="container mt-5">
    <h2 class="text-center mb-4"><b>Top Destinations</b></h2>
    <div class="row" id="cards-container">
        <!-- Dynamic content will be inserted here -->
    </div>
</section>

<!-- Cultural Experiences Section -->
<section id="cultural-experiences" class="container py-5">
    <div class="text-center mb-5">
        <h2 class="display-5 fw-bold mb-3">Authentic Indian Cultural Experiences</h2>
        <p class="lead">Connect with 5000 years of living heritage</p>
        <div class="eco-badge d-inline-block">Local Community Supported</div>
    </div>

    <div class="row g-4">
        <!-- Cultural Card 1 -->
        <div class="col-lg-4 col-md-6">
            <div class="cultural-card">
                <div class="card-header p-4 bg-warning text-dark">
                    <i class="fas fa-utensils fa-3x mb-3"></i>
                    <h4>Culinary Journeys</h4>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-3">
                            <i class="fas fa-pepper-hot text-danger me-2"></i>
                            Delhi street food walks with local vendors
                        </li>
                        <li class="mb-3">
                            <i class="fas fa-mortar-pestle text-success me-2"></i>
                            Kerala spice plantation cooking classes
                        </li>
                    </ul>
                    <a href="#food-tours" class="btn btn-outline-dark">Explore Food Trails</a>
                </div>
            </div>
        </div>

        <!-- Cultural Card 2 -->
        <div class="col-lg-4 col-md-6">
            <div class="cultural-card">
                <div class="card-header p-4 bg-info text-white">
                    <i class="fas fa-hands-praying fa-3x mb-3"></i>
                    <h4>Spiritual Traditions</h4>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-3">
                            <i class="fas fa-om text-gold me-2"></i>
                            Varanasi Ganga Aarti ceremonies
                        </li>
                        <li class="mb-3">
                            <i class="fas fa-yin-yang text-primary me-2"></i>
                            Dharamshala Buddhist meditation retreats
                        </li>
                    </ul>
                    <a href="#spiritual" class="btn btn-outline-light">Discover Rituals</a>
                </div>
            </div>
        </div>

        <!-- Cultural Card 3 -->
        <div class="col-lg-4 col-md-6">
            <div class="cultural-card">
                <div class="card-header p-4 bg-success text-white">
                    <i class="fas fa-hands-holding-child fa-3x mb-3"></i>
                    <h4>Artisan Workshops</h4>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-3">
                            <i class="fas fa-paint-brush text-warning me-2"></i>
                            Jaipur block printing sessions
                        </li>
                        <li class="mb-3">
                            <i class="fas fa-ring text-info me-2"></i>
                            Hyderabad pearl crafting workshops
                        </li>
                    </ul>
                    <a href="#crafts" class="btn btn-outline-light">Learn Traditional Arts</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Experience Types Grid -->
    <div class="row mt-5 g-4">
        <div class="col-md-6">
            <div class="bg-white p-4 shadow rounded-3">
                <h4 class="mb-3"><i class="fas fa-calendar-alt me-2 text-primary"></i>Festival Experiences</h4>
                <div class="row">
                    <!-- Add images for festivals -->
                    <div class="col-6">
                        <img src="{% static 'images/holi.jpg' %}" alt="Holi Festival" 
                             class="img-fluid rounded mb-2">
                        <p class="small">Holi Color Festival</p>
                    </div>
                    <div class="col-6">
                        <img src="{% static 'images/diwali.jpg' %}" alt="Diwali" 
                             class="img-fluid rounded mb-2">
                        <p class="small">Diwali Lights Tour</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Homestay Programs -->
        <div class="col-md-6">
            <div class="bg-white p-4 shadow rounded-3">
                <h4 class="mb-3"><i class="fas fa-home me-2 text-success"></i>Homestay Programs</h4>
                <ul class="list-group list-group-flush">
                    <!-- Add homestay options -->
                    <li class="list-group-item">
                        <i class="fas fa-location-dot me-2"></i>Kerala Houseboat Living
                    </li>
                    <li class="list-group-item">
                        <i class="fas fa-location-dot me-2"></i>Rajasthan Desert Village Stays
                    </li>
                </ul>
            </div>
        </div>
    </div>

</section>

<script>
// Existing JavaScript code for dynamic content fetching and rendering
document.addEventListener("DOMContentLoaded", async () => {
    let data = [];
    try {
        let response = await fetch("https://629d-2409-40c0-103f-3eeb-c66-bddb-d256-29e.ngrok-free.app/Destination/", {
            headers: { "Ngrok-Skip-Browser-Warning": "true" }
        });
        data = await response.json();
    } catch (error) {
        console.error("Error fetching data. Using hardcoded fallback data.", error);
        data = [
            {
                "id": 1,
                "url": "http://60ed-2402-3a80-428a-d8f7-ddd678a-d9d13e3.ngrok-free.app/Destination/1/",
                "Image": "http://60ed -2402 -3a80 -428a -d8f7 -ddd -678a -d9d13e3.ngrok-free.app/media/Destination/gotest_1VUKlOB.jpeg",
                "Name": "Test",
                "Destination": "Goa ki planning"
            },
            // Other fallback data...
        ];
    }
    renderCards(data);
});

function renderCards(cards) {
    const container = document.getElementById("cards-container");
    container.innerHTML = "";

    cards.forEach((card) => {
        const cardHtml = `
            <div class="col-md-4 mb -4"> 
                <div class ="card" style ="width:100%;"> 
                    <img src="${card.Image}"class ="card-img-top" alt="${card.Name}">
                    < divclass ="card-body ">
                        <
                       h5class ="card-title "> ${card.Name} 
                       <
                       /h5 >
                       <
                       pclass ="card-text "> ${card.Destination} 
                       <
                       /p >
                       <
                       a href="{% url 'detail' %}?id=${card.id}"class ="btn btn-info ">More Info 
                       <
                       /a >
                       <
                       / div >
                       <
                       / div >
                       <
                       / div >
                   `;
                   container.insertAdjacentHTML("beforeend", cardHtml);
               });
           }

           function confirmTrip() {
               alert("Trip Confirmed! Details will be sent to your email.");
           }
       </script>

       <!-- Bootstrap JS -->
       <script src = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"> 
       <
       /script >

{% endblock body %}
